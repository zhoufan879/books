<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		
		<script type="text/javascript">
			'use strict';
			
			// Set 
			var s = new Set();
			
			[1,2,3,4,5,6].map( x => s.add(x) );
			
			console.log( s );					// Set [ 1, 2, 3, 4, 5, 6 ]
			
			for(var i of s){
				console.log( i );
			}
			
			s = new Set([1,2,3,4,5]);
			console.log( s );					// Set [ 1, 2, 3, 4, 5 ]
			console.log( s.size );			// 5
			
			console.log( s.has(1) );		// true
			s.delete(1);
			console.log( s );					// Set [ 2, 3, 4, 5 ]
			s.clear();
			
			// 去除重复值
			var dedupe = function (arr) {
				// Set 成员值唯一，没有重复值
				return Array.from(new Set(arr));
			}
			console.log( dedupe([1,2,3,4,5,4,3,2,1]) );			// Array [ 1, 2, 3, 4, 5 ]
			
			// 去除重复值 2
			var dedupe2 = function (arr) {
				return [...new Set(arr)];
			}
			console.log( dedupe2([1,2,3,4,5,4,3,2,1]) );		// Array [ 1, 2, 3, 4, 5 ]
			
			// 遍历
			// keys()、values()、entries()、forEach()
			s = new Set(['red', 'blue', 'green', 'pink']);
			for( var item of s ){
//				console.log( item );
			}

			console.log( s.keys() );			// Set Iterator {  }
			for( var item of s.keys() ){
//				console.log( item );
			}
			
			console.log( s.values() );		// Set Iterator {  }
			for( var item of s.values() ){
//				console.log( item );
			}
			
			console.log( s.entries() );		// Set Iterator {  }
			for( var item of s.entries() ){
//				console.log( item );
			}
			
			// Set 转成 Array
			var arr = [...s];
			console.log( arr );					// Array [ "red", "blue", "green", "pink" ]
			
			s.forEach((v, k) => console.log(k, v));
			
			
			// WeakSet 
			// 其成员只能是对象
			var ws = new WeakSet();
			ws.add({});
			console.log( ws.size );			// undefined 没有SIZE 没有 forEach
			
			console.log( ws.has({}) );		// false
			
			
			
			// Map

		</script>
		
		<script src="../js/code.js" type="text/javascript" charset="utf-8"></script>
	</head>
	<body>
		<h1>Set & Map 数据结构</h1>
	</body>
</html>
