<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		
		<script type="text/javascript">
			// * chrome 47 还不支持
			// * firefox 42 支持，但不支持 let
			
			'use strict';

			/**
			 * 1. 数组 的解构赋值
			 */
			
			// ES5
//			var a = 1;
//			var b = 2;
//			var c = 3;
//			console.log( a, b, c);
			
			// ES6
			var [a, b, c] = [1, 2, 3];
			console.log( a, b, c);					// 1,2,3
			
			var [ , , c] = [4, 5, 6];
			console.log( c );							// 6
			
			var [d, ...c] = [4, 5, 6];
			console.log(d, c);						// 4, Array[5, 6]
			
			var [a,b,c] = [1];
			console.log(a,b,c);						// 1, undefined, undefined
			
			var [a] = [1, 2, 3];
			console.log(a);							// 1
			
			// 赋的值，必须是数组  [Symbol.iterator] is not a function
//			var [foo] = 1;
			var [foo] = '';// 可以
//			var [foo] = false;
//			var [foo] = null;
//			var [foo] = undefined;
//			var [foo] = NaN;
			console.log( foo );						// undefined

			// 初始值
			var [foo = true] = [];
			console.log( foo );
			
			var [foo = 1] = [undefined];
			console.log( foo );
			
			
			/**
			 * 2. 对象 的解构赋值
			 */
			var _obj = {
				name: 'zhoufan879',
				age: 28,
				job: 'it',
				children : [
					{name:'son1'},
					{name:'son2'}
				]
			};
			
			var {name} = _obj;
			console.log(name);
			
			var {name: n} = _obj;
			console.log(n);
			
			var {n} = _obj;
			console.log(n);				// undeifned
			
			
			/**
			 * 3. 字符串 的解构赋值
			 */
			var s = 'hello';
			
			var [a,b,c] = s;
			console.log(a,b,c);
			
			var {length} = s;
			console.log(length);
			
			
			/**
			 * 4. 函数参数 的解构赋值
			 */
			function add (x,y) {
				return x+y;
			}
			
			var r = [1,2,3,4,5].map((a,b)=>a+b);
			console.log( r );
			
			var r = [1, undefined,3].map((a='y')=>a);
			console.log( r );
			
		</script>
		
		<script src="../js/code.js" type="text/javascript" charset="utf-8"></script>
	</head>
	<body>
		<h1>Destructuring 解构赋值</h1>
		<p>
			包括数组、对象、字符串、数值、布尔值、函数参数等
		</p>
	</body>
</html>
